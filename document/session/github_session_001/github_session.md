# GitHub について学ぼう

### ■ はじめに
まず、何故 GitHub を学ぶ必要があるのか？についてですが、OSSを含む新しいプログラムは、現在GitHubにて公開されていることが多いです。また、バグ報告や解決方法などはGitHub上のissueにて公開されるため、自分のプロジェクトでGitHubを使っていなくても、使い方を知っておくことにより、有利に働く場面も出てくることかと思います。

また、最近では2024年の都知事選でAIエンジニアの安野たかひろさんがGitHub上でマニフェストを作成したことは記憶に新しいかと思いますが、技術に限らず、各種コミュニティの議論や研修の場としてGitHubが活用されてきています。

安野たかひろ都知事選マニフェスト：https://github.com/takahiroanno2024/election2024?tab=readme-ov-file

安野たかひろ都知事選GitHub Action：
https://qiita.com/genimura/items/426767278333a92f80db

まずは軽くでよいから、GitHubを触っていただき、上記のようなGitHubを活用されている場面に触れるきっかけになってくれればよいと思います。

### ■ Git と GitHub
実は、「Git」と「GitHub」と二つあり、この2つは同じものではありません。
「Gitを使ってエンジニアを支援するWebサービスがGitHub」です。  

#### ・Git
「ソースコードの保存した履歴を管理するツール」の名前です。
システム開発では複数の開発者によってソースコードが書き換わります。  
・いつ誰がどこを変えたのか？  
・最新の保存履歴はどれか？  
など、ソースコードの履歴を把握する必要があります。
この履歴を管理をするツールの1つが「Git」です。

#### ・GitHub  
「Gitを利用した、開発者を支援するWebサービス」です。
GitHubは、クラウド上でGitを用いたバージョン管理をすることができ、さらにGitには無い、開発者に便利な機能を追加しています。  
・MarkDownで作成したドキュメントの閲覧  
・成果物のレビュー  
・自動テスト実行  
・自動デプロイ  
etc 


### ■ バージョン管理システム（GitとSVNの違い）

Gitは分散型バージョン管理システム
SVNは集中型バージョン管理システム

#### ・Git の特徴
・ローカルにあるリポジトリに自身のソースを登録することが可能なので、自分の作業の履歴を作ることが可能です。
チーム全体の履歴だけでなく、自分の開発履歴まで管理できるのが特徴です。  
・リモートリポジトリにpush後、ブランチ単位でプルリクエストを作成します。プルリクエストが承認されるとmainブランチにマージされますが、リモートリポジトリにpushすることで、他の人も変更したブランチに対して閲覧・修正ができるようになります。
・デメリットは利用方法が難しいため、正しく運用するには運用側、利用者側ともに正しい使い方を学ぶ必要があります。  

・Git のバージョン管理イメージ    
<img src="images/github_session_001.png" width="50%">  
#### ・SVN の特徴  
・仕組みが簡単な点がメリットです。
・デメリットとしてバージョンの管理がローカルでできない点です。

・Git のバージョン管理イメージ    
<img src="images/github_session_002.png" width="50%">  

### ■ GitHub + MarkDown でドキュメントを作成する利点とは？  
・Word、Excel等のバイナリファイルでは変更差分がわかりづらい。MarkDownはテキストなので、差分のチェックが容易となる。  
・プルリクエストをしっかりと書くことにより、プルリクエストそのものが変更履歴となる。また、変更差分に直接コメントを残せるため、変更履歴、変更差分、当時のレビュー内容及び修正内容が一目でわかるため、過去の履歴が追いやすい。
・MarkDown形式なので、フォントや文字位置の細かい調整は難しいが、その分ドキュメント作成にかかる工数は減ります。  
・PlantUML というツールを使うことで、UMLもMarkDown形式で記載できる。UMLも差分管理がやりやすくなります。  

・対応しているUML
```
・シーケンス図 / Sequence diagram  
・ユースケース図 / Usecase diagram  
・クラス図 / Class diagram  
・アクティビティ図 / Activity diagram  
・コンポーネント図 / Component diagram  
・状態遷移図 / State diagram  
・オブジェクト図 / Object   diagram
```
・デメリットはDB仕様書やインタフェース仕様書など、項目が多数にわたるドキュメントについては、Excelの方が使い勝手が良い場合が多い。簡単な表レベルならMarkDownでも記載可能だが、構成が複雑・大容量化するとMarkDownには向かなくなります。

サンプル
https://qiita.com/masaki-k/items/5e09681a19ed20b7a071

### ■ GitHub 上での成果物のレビュー

サンプル
https://github.com/HirobumiNakamura/step_repos/pull/3


### ■ GitHub Action 自動テスト実行

事前準備として、以下のプルリクエストを作成しています。  
①GitHub Actionの追加　
https://github.com/HirobumiNakamura/step_repos/pull/6  

・github上にpython、pytestのインストール  
・push、pull_request時にテスト自動実行

②サンプルテストコードの作成
https://github.com/HirobumiNakamura/step_repos/pull/5

ここから、GitHubを使って、実際に②サンプルテストコードを修正してpush マージまでの流れを実演します。

### ■ 自動デプロイ  
GitHub Action を使用して、mainブランチにマージしたら自動的にデプロイまで実行することも可能です。

このような専門性が高く、環境によってはパスワードやAPIキーの問題等で、各個人に実施させるには不向きな作業を自動化することで、大幅な作業短縮が可能となります。

以下、STEPホームページでの自動化例です。  
<img src="images\stephp.png" width="50%">  

[UML](pu/stephp.pu)はこちら

実際に自動化しようとした場合、以下の課題があるため自動化できてはいません。  
・HPビルダーを利用する前提だと、編集の都度フルMakeがかかるため、まずバージョン管理が無理。  
・Step専用GitHubリポジトリが必要。  
・FTP情報を載せる必要があるため、privateリポジトリにする必要があるが、privaetリポジトリでのGitHub Actionの使用は有料となる。

